(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(333)},125:function(e,t,a){},126:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(28),c=a.n(o),l=(a(125),a(16)),s=a(17),r=a(20),d=a(18),u=a(19),h=a(8),p=(a(126),a(29)),f=a(21),m=a.n(f),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).handleInput=function(e){a.props.resetNotification(),a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleChangeColor=function(){m.a.put("https://ideadocs-api.herokuapp.com/api/v1/ideas/".concat(a.props.idea.id),{idea:{title:a.state.title,body:a.state.body,color:a.state.color}}).then(function(e){a.props.updateIdea(e.data),a.props.handleChangeStateColor(a.state.color)}).catch(function(e){return console.log(e)}),a.props.closeBox()},a.handleDelete=function(){a.props.onDelete(a.props.idea.id)},a.handleClick=function(){a.props.onClick(a.props.idea.id)},a.state={title:a.props.idea.title,body:a.props.idea.body,color:a.props.idea.color},a.changeBackground=a.changeBackground.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"changeBackground",value:function(e){this.setState({color:e})}},{key:"componentDidUpdate",value:function(e){e.color!==this.props.color&&this.handleChangeColor()}},{key:"render",value:function(){return i.a.createElement("div",{className:"tile",onClick:this.props.onClick,style:{background:this.state.color}},i.a.createElement("span",{className:"deleteButton",onClick:this.handleDelete}," x "),i.a.createElement("form",{onBlur:this.handleChangeColor},i.a.createElement("input",{style:{fontSize:"16px",fontWeight:"bold"},className:"input",type:"text",name:"title",placeholder:"Enter a Title",value:this.state.title,onChange:this.handleInput,ref:this.props.titleRef,onClick:this.handleColor&&this.handleClick}),i.a.createElement("textarea",{style:{fontSize:"14px"},className:"input",name:"body",placeholder:"Describe your idea",value:this.state.body,onChange:this.handleInput,onClick:this.handleClick}," ")))}}]),t}(n.Component),b=a(47),v=a.n(b),C=a(111),k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={color:""},a.handleChangeComplete=function(e){a.props.selected&&a.props.selected.changeBackground(e.hex),a.setState({background:e.hex}),a.props.changeColor(e.hex)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{hidden:null===this.props.selected},i.a.createElement("div",{style:{display:this.props.displayColorPicker?"block":"none"}},i.a.createElement(C.TwitterPicker,{className:"colorpicker",color:this.state.color,onChangeComplete:this.handleChangeComplete})))}}]),t}(i.a.Component),E=a(45),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).state={ideas:[],editingIdeaID:null,editingTitleID:null,notification:"",selected:null,color:" ",displayColorPicker:!1},a.addNewIdea=function(){m.a.post("https://ideadocs-api.herokuapp.com/api/v1/ideas",{idea:{title:"",body:"",color:""}}).then(function(e){var t=v()(a.state.ideas,{$push:[e.data]});a.setState({ideas:t,editingIdeaID:e.data.id})}).catch(function(e){return console.log(e)})},a.updateIdea=function(e){var t=a.state.ideas.findIndex(function(t){return t.id===e.id}),n=v()(a.state.ideas,Object(p.a)({},t,{$set:e}));a.setState({ideas:n}),a.props.onChange("All changes saved"),a.props.setTransitionIn(!0),a.sub.send({ideas:e.target.value,id:e.id})},a.deleteIdea=function(e){m.a.delete("https://ideadocs-api.herokuapp.com/api/v1/ideas/".concat(e)).then(function(t){var n=a.state.ideas.findIndex(function(t){return t.id===e}),i=v()(a.state.ideas,{$splice:[[n,1]]});a.setState({ideas:i})}).catch(function(e){return console.log(e)})},a.enableEditing=function(e){a.setState({editingIdeaID:e},function(){a.title.focus()})},a.handleClick=function(){a.setState({displayColorPicker:!a.state.displayColorPicker})},a.handleEditing=function(e){a.setState({editingTitleID:e})},a.closeBox=function(){setTimeout(function(){a.setState({displayColorPicker:!1})},200)},a.changeColor=function(e){a.setState({color:e})},a.handleChangeStateColor=function(e){console.log(e)},a.references=new Map,a.selected=a.selected.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.a.get("https://ideadocs-api.herokuapp.com/api/v1/ideas.json").then(function(t){e.setState({ideas:t.data})}).catch(function(e){return console.log(e)})}},{key:"selected",value:function(e){var t=this.references.get(e);this.setState({selected:t,displayColorPicker:!0})}},{key:"render",value:function(){var e=this,t=this.state.ideas.map(function(t){return i.a.createElement(g,{color:e.state.color,closeBox:e.closeBox,className:"tile",idea:t,key:"".concat(t.id,"-").concat(t.updated_at),handleChangeStateColor:e.handleChangeStateColor,updateIdea:e.updateIdea,titleRef:function(t){return e.title=t},resetNotification:e.props.resetNotification,onDelete:e.deleteIdea,onChangeComplete:e.handleChangeComplete,ref:function(a){return e.references.set(t.id,a)},onClick:function(){e.enableEditing&&e.selected(t.id)}})});return i.a.createElement("div",null,i.a.createElement("div",{className:"main-div"},i.a.createElement("div",{className:"board-title",onClick:this.handleEditing}),i.a.createElement("div",{className:"newideabtn-div"}),i.a.createElement("div",{className:"color-div"},i.a.createElement("div",{onClick:this.handleUnselect}),i.a.createElement(k,{changeColor:this.changeColor,className:"color-div",selected:this.state.selected,color:this.state.color,displayColorPicker:this.state.displayColorPicker})),i.a.createElement("div",{className:"pretty-div"})),i.a.createElement("div",null,t),i.a.createElement("button",{className:"newIdeaButton",onClick:this.addNewIdea},"+"))}}]),t}(n.Component),j=a(337),I=a(336),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).editTitle=function(e){a.setState({editMode:!a.state.editMode})},a.unFocus=function(e){""!==e.target.value?a.setState({editMode:!1,title:e.target.value}):a.setState({editMode:!1,title:"DEFAULT TITLE"}),m.a.put("https://ideadocs-api.herokuapp.com/api/v1/boards/".concat(a.state.id),{board:{boardtitle:e.target.value}}).then(function(e){}).catch(function(e){return console.log(e)})},a.handleKey=function(e){"Enter"===e.key&&(""===e.target.value?a.setState({title:"DEFAULT TITLE",editMode:!1}):a.setState({editMode:!1,title:e.target.value}),m.a.put("https://ideadocs-api.herokuapp.com/api/v1/boards/".concat(a.state.id),{board:{boardtitle:e.target.value}}).then(function(e){console.log(e),console.log(e.data)}).catch(function(e){return console.log(e)}))},a.state={title:"",editMode:!1,id:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;m.a.get("https://ideadocs-api.herokuapp.com/api/v1/boards.json").then(function(t){var a=t.data[0].boardtitle;e.setState({boards:t.data,title:""===a?"DEFAULT TITLE":a,id:t.data[0].id})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return i.a.createElement("div",{className:"title"},this.state.editMode?i.a.createElement("input",{defaultValue:this.state.title,onBlur:this.unFocus,onKeyDown:this.handleKey,style:{width:"100%",height:"30px",fontSize:"30px"},onClick:this.changeTitle}):i.a.createElement("div",{className:"titlediv",align:"center"},i.a.createElement("h1",{className:"boardtitle",onClick:this.editTitle},this.state.title)))}}]),t}(n.Component),N=a(112),S=a(113),T=a.n(S),w={transition:"background ".concat(1e3,"ms ease-in-out, opacity ").concat(1e3,"ms ease-in-out"),opacity:0,padding:"10px"},x={entering:{opacity:1,background:"lightgreen"},entered:{opacity:1}},D=function(e){var t=e.in,a=e.notification;return i.a.createElement(T.a,{in:t,timeout:1e3},function(e){return i.a.createElement("span",{style:Object(N.a)({},w,x[e])},a)})},B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(d.a)(t).call(this,e))).setTransitionIn=function(e){a.setState({transisitonIn:e})},a.resetNotification=function(){a.setTransitionIn(!1),a.setState({notification:""})},a.setNotification=function(e){a.setState({notification:e})},a.state={TrasitionIn:!1,notification:""},a.setTransitionIn=a.setTransitionIn.bind(Object(h.a)(Object(h.a)(a))),a.setNotification=a.setNotification.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(j.a,{expand:"lg",variant:"light",bg:"light"},i.a.createElement(I.a,null,i.a.createElement(j.a.Brand,{href:"/",className:"navbar"},"IDEADOCS"),i.a.createElement("div",{className:"notification"},i.a.createElement(D,{in:this.state.transisitonIn,notification:this.state.notification})))),i.a.createElement("div",{className:"title-container"}),i.a.createElement(O,null),i.a.createElement("div",{className:"App-header"}),i.a.createElement(y,{onChange:this.setNotification,setTransitionIn:this.setTransitionIn,resetNotification:this.resetNotification}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M="ws://".concat(window.location.hostname,":3001/cable");c.a.render(i.a.createElement(E.ActionCableProvider,{url:M},i.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[118,1,2]]]);
//# sourceMappingURL=main.b02caf2e.chunk.js.map